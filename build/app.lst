ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 1


   1              		.cpu cortex-m23
   2              		.arch armv8-m.base
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"app.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Core/Src/app.c"
  18              		.section	.text.AppInterface,"ax",%progbits
  19              		.align	1
  20              		.global	AppInterface
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  25              	AppInterface:
  26              	.LFB65:
   1:Core/Src/app.c **** /*
   2:Core/Src/app.c ****  * file: app.c
   3:Core/Src/app.c ****  * brief: Application main file
   4:Core/Src/app.c ****  */
   5:Core/Src/app.c **** /* includes -----------------------------------------------------*/
   6:Core/Src/app.c **** #include "app.h"
   7:Core/Src/app.c **** #include "log.h"
   8:Core/Src/app.c **** #include "lcd.h"
   9:Core/Src/app.c **** #include "peripheral.h"
  10:Core/Src/app.c **** #include "gd32e23x.h"
  11:Core/Src/app.c **** #include "stdint.h"
  12:Core/Src/app.c **** #include "systick.h"
  13:Core/Src/app.c **** 
  14:Core/Src/app.c **** /* defines ------------------------------------------------------*/
  15:Core/Src/app.c **** 
  16:Core/Src/app.c **** /* private variables --------------------------------------------*/
  17:Core/Src/app.c **** const uint8_t UI_MSG[][32] = {
  18:Core/Src/app.c ****     "Thanks for using",
  19:Core/Src/app.c ****     "Vpp: 0.00V  F: 0.000kHz",
  20:Core/Src/app.c ****     "PWM:OFF   0.00kHz    0%"
  21:Core/Src/app.c **** };
  22:Core/Src/app.c **** 
  23:Core/Src/app.c **** /* function prototypes ------------------------------------------*/
  24:Core/Src/app.c **** void AppInterface(void);
  25:Core/Src/app.c **** uint16_t ADCGetValue(uint8_t ADC_CHANNEL_x);
  26:Core/Src/app.c **** void WaveformDisplay(void);
  27:Core/Src/app.c **** void AppStateDisplay(void);
  28:Core/Src/app.c **** 
  29:Core/Src/app.c **** /* external variables -------------------------------------------*/
  30:Core/Src/app.c **** APP_DATA_T  app_data;
  31:Core/Src/app.c **** APP_STATE_T app_state;
  32:Core/Src/app.c **** 
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 2


  33:Core/Src/app.c **** /*
  34:Core/Src/app.c ****  * @brief:  Application initialization
  35:Core/Src/app.c ****  * @param:  None
  36:Core/Src/app.c ****  * @retval: None
  37:Core/Src/app.c ****  */
  38:Core/Src/app.c **** void AppInit(void)
  39:Core/Src/app.c **** {
  40:Core/Src/app.c ****     /* program data initialization */
  41:Core/Src/app.c ****     app_data.pwm_freq = 50;
  42:Core/Src/app.c ****     app_data.pwm_duty = 50;
  43:Core/Src/app.c ****     app_data.wave_freq = 0;
  44:Core/Src/app.c ****     app_data.wave_vpp = 0;
  45:Core/Src/app.c ****     app_data.wave_samp_freq = 500;     // 1 / (500 * 10 us) = 200 Hz
  46:Core/Src/app.c ****     app_data.waveform.start = 3;
  47:Core/Src/app.c ****     app_data.waveform.end = 159;
  48:Core/Src/app.c **** 
  49:Core/Src/app.c ****     app_state.pwm_state = PWM_STATE_DISABLE;
  50:Core/Src/app.c ****     app_state.display_update = APP_STATE_ENABLE;
  51:Core/Src/app.c ****     app_state.waveform_update = WAVEFORM_UPDATE_NONE;
  52:Core/Src/app.c ****     
  53:Core/Src/app.c ****     /* peripheral configuration */
  54:Core/Src/app.c ****     RCUConfig();
  55:Core/Src/app.c ****     GPIOConfig();
  56:Core/Src/app.c **** #if OPEN_ZLOG == 1
  57:Core/Src/app.c ****     USARTConfig();
  58:Core/Src/app.c **** #endif
  59:Core/Src/app.c ****     ADCConfig();
  60:Core/Src/app.c ****     SPIConfig();
  61:Core/Src/app.c **** 
  62:Core/Src/app.c ****     /* driver configuration */
  63:Core/Src/app.c ****     LCD_Init();
  64:Core/Src/app.c ****     
  65:Core/Src/app.c ****     AppInterface();
  66:Core/Src/app.c ****     WaveformDisplay();
  67:Core/Src/app.c ****     AppStateDisplay();
  68:Core/Src/app.c ****     
  69:Core/Src/app.c ****     TIMConfig();
  70:Core/Src/app.c **** 
  71:Core/Src/app.c ****     /* load message */
  72:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "App Start!");
  73:Core/Src/app.c **** }
  74:Core/Src/app.c **** 
  75:Core/Src/app.c **** /*
  76:Core/Src/app.c ****  * @brief:  Application main loop
  77:Core/Src/app.c ****  * @param:  None
  78:Core/Src/app.c ****  * @retval: None
  79:Core/Src/app.c ****  */
  80:Core/Src/app.c **** void AppStart(void)
  81:Core/Src/app.c **** {
  82:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "waveform_update: %d", app_state.waveform_update);
  83:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "wave_samp_freq: %d", app_data.wave_samp_freq);
  84:Core/Src/app.c **** 
  85:Core/Src/app.c ****     if (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9)) {
  86:Core/Src/app.c ****         delay_1ms(10);
  87:Core/Src/app.c ****         if (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9)) {
  88:Core/Src/app.c ****             while (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9));
  89:Core/Src/app.c ****             if (app_state.waveform_update != WAVEFORM_UPDATE_DISABLE) {
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 3


  90:Core/Src/app.c ****                 app_state.waveform_update = WAVEFORM_UPDATE_DISABLE;
  91:Core/Src/app.c ****             } else {
  92:Core/Src/app.c ****                 app_state.waveform_update = WAVEFORM_UPDATE_NONE;
  93:Core/Src/app.c ****             }
  94:Core/Src/app.c ****         }
  95:Core/Src/app.c ****     }
  96:Core/Src/app.c ****     switch (app_state.pwm_state) {
  97:Core/Src/app.c ****         case PWM_STATE_UPDATE:
  98:Core/Src/app.c ****             timer_counter_value_config(TIMER14 , 0);
  99:Core/Src/app.c ****             timer_channel_output_pulse_value_config(
 100:Core/Src/app.c ****                 TIMER14, 
 101:Core/Src/app.c ****                 TIMER_CH_0, 
 102:Core/Src/app.c ****                 (uint32_t)(app_data.pwm_duty / 100.0f * PWM_PERIOD / app_data.pwm_freq) );
 103:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 104:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 105:Core/Src/app.c ****             break;
 106:Core/Src/app.c ****         case PWM_STATE_OPEN:
 107:Core/Src/app.c ****             PWM_OPEN(app_data.pwm_freq, app_data.pwm_duty);
 108:Core/Src/app.c ****             KEY02_01_INTERRUPT_ENABLE();
 109:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 110:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 111:Core/Src/app.c ****             break;
 112:Core/Src/app.c ****         case PWM_STATE_CLOSE:
 113:Core/Src/app.c ****             exti_interrupt_disable(EXTI_13);
 114:Core/Src/app.c ****             exti_interrupt_disable(EXTI_14);
 115:Core/Src/app.c ****             timer_disable(TIMER14);
 116:Core/Src/app.c ****             rcu_periph_clock_disable(RCU_TIMER14);
 117:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_DISABLE;
 118:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 119:Core/Src/app.c ****             break;
 120:Core/Src/app.c ****         default:
 121:Core/Src/app.c ****             break;
 122:Core/Src/app.c ****     }
 123:Core/Src/app.c **** 
 124:Core/Src/app.c ****     if (app_state.waveform_update == WAVEFORM_UPDATE_DONE) {
 125:Core/Src/app.c ****         app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 126:Core/Src/app.c ****         WaveformDisplay();
 127:Core/Src/app.c ****     }
 128:Core/Src/app.c ****     if (app_state.display_update) {
 129:Core/Src/app.c ****         app_state.display_update = APP_STATE_DISABLE;
 130:Core/Src/app.c ****         AppStateDisplay();
 131:Core/Src/app.c ****     }
 132:Core/Src/app.c **** }
 133:Core/Src/app.c **** 
 134:Core/Src/app.c **** /*
 135:Core/Src/app.c ****  * @brief  application user interface
 136:Core/Src/app.c ****  * @param  None
 137:Core/Src/app.c ****  * @retval None
 138:Core/Src/app.c ****  */
 139:Core/Src/app.c **** void AppInterface(void)
 140:Core/Src/app.c **** {
  27              		.loc 1 140 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31 0000 F0B5     		push	{r4, r5, r6, r7, lr}
  32              	.LCFI0:
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 4


  33              		.cfi_def_cfa_offset 20
  34              		.cfi_offset 4, -20
  35              		.cfi_offset 5, -16
  36              		.cfi_offset 6, -12
  37              		.cfi_offset 7, -8
  38              		.cfi_offset 14, -4
  39 0002 C646     		mov	lr, r8
  40 0004 00B5     		push	{lr}
  41              	.LCFI1:
  42              		.cfi_def_cfa_offset 24
  43              		.cfi_offset 8, -24
  44 0006 84B0     		sub	sp, sp, #16
  45              	.LCFI2:
  46              		.cfi_def_cfa_offset 40
 141:Core/Src/app.c ****     /* black background */
 142:Core/Src/app.c ****     LCD_Fill(0, 0, LCD_WIDTH, LCD_HEIGHT, BLACK);
  47              		.loc 1 142 5 view .LVU1
  48 0008 0025     		movs	r5, #0
  49 000a 0095     		str	r5, [sp]
  50 000c 8223     		movs	r3, #130
  51 000e A122     		movs	r2, #161
  52 0010 0021     		movs	r1, #0
  53 0012 0020     		movs	r0, #0
  54 0014 FFF7FEFF 		bl	LCD_Fill
  55              	.LVL0:
 143:Core/Src/app.c ****     /* title */
 144:Core/Src/app.c ****     LCD_Show_String(12, 6, UI_MSG[0], RED, BLACK, 12, 1);
  56              		.loc 1 144 5 view .LVU2
  57 0018 40F20004 		movw	r4, #:lower16:UI_MSG
  58 001c C0F20004 		movt	r4, #:upper16:UI_MSG
  59 0020 0127     		movs	r7, #1
  60 0022 0297     		str	r7, [sp, #8]
  61 0024 0C26     		movs	r6, #12
  62 0026 0196     		str	r6, [sp, #4]
  63 0028 0095     		str	r5, [sp]
  64 002a 4FF60003 		movw	r3, #63488
  65 002e 2200     		movs	r2, r4
  66 0030 0621     		movs	r1, #6
  67 0032 0C20     		movs	r0, #12
  68 0034 FFF7FEFF 		bl	LCD_Show_String
  69              	.LVL1:
 145:Core/Src/app.c ****     /* coordinate axis */
 146:Core/Src/app.c ****     LCD_Draw_Line(3, 24, 3, 96, GREEN);
  70              		.loc 1 146 5 view .LVU3
  71 0038 40F2E078 		movw	r8, #2016
  72 003c 4346     		mov	r3, r8
  73 003e 0093     		str	r3, [sp]
  74 0040 6023     		movs	r3, #96
  75 0042 0322     		movs	r2, #3
  76 0044 1821     		movs	r1, #24
  77 0046 0320     		movs	r0, #3
  78 0048 FFF7FEFF 		bl	LCD_Draw_Line
  79              	.LVL2:
 147:Core/Src/app.c ****     LCD_Draw_Line(3, 96, LCD_WIDTH - 3, 96, GREEN);
  80              		.loc 1 147 5 view .LVU4
  81 004c 4346     		mov	r3, r8
  82 004e 0093     		str	r3, [sp]
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 5


  83 0050 6023     		movs	r3, #96
  84 0052 9E22     		movs	r2, #158
  85 0054 6021     		movs	r1, #96
  86 0056 0320     		movs	r0, #3
  87 0058 FFF7FEFF 		bl	LCD_Draw_Line
  88              	.LVL3:
 148:Core/Src/app.c ****     /* 0V horizontal line */
 149:Core/Src/app.c ****     LCD_Draw_Line(3, 60, LCD_WIDTH - 3, 60, PURPLE);
  89              		.loc 1 149 5 view .LVU5
  90 005c 48F21003 		movw	r3, #32784
  91 0060 0093     		str	r3, [sp]
  92 0062 3C23     		movs	r3, #60
  93 0064 9E22     		movs	r2, #158
  94 0066 3C21     		movs	r1, #60
  95 0068 0320     		movs	r0, #3
  96 006a FFF7FEFF 		bl	LCD_Draw_Line
  97              	.LVL4:
 150:Core/Src/app.c ****     /* input waveform state */
 151:Core/Src/app.c ****     LCD_Show_String(3, 102, UI_MSG[1], YELLOW, BLACK, 12, 1);
  98              		.loc 1 151 5 view .LVU6
  99 006e 2200     		movs	r2, r4
 100 0070 2032     		adds	r2, r2, #32
 101 0072 0297     		str	r7, [sp, #8]
 102 0074 0196     		str	r6, [sp, #4]
 103 0076 0095     		str	r5, [sp]
 104 0078 4FF6E073 		movw	r3, #65504
 105 007c 6621     		movs	r1, #102
 106 007e 0320     		movs	r0, #3
 107 0080 FFF7FEFF 		bl	LCD_Show_String
 108              	.LVL5:
 152:Core/Src/app.c ****     /* PWM signal state */
 153:Core/Src/app.c ****     LCD_Show_String(3, 116, UI_MSG[2], PURPLE, BLACK, 12, 1);
 109              		.loc 1 153 5 view .LVU7
 110 0084 2200     		movs	r2, r4
 111 0086 4032     		adds	r2, r2, #64
 112 0088 0297     		str	r7, [sp, #8]
 113 008a 0196     		str	r6, [sp, #4]
 114 008c 0095     		str	r5, [sp]
 115 008e 48F21003 		movw	r3, #32784
 116 0092 7421     		movs	r1, #116
 117 0094 0320     		movs	r0, #3
 118 0096 FFF7FEFF 		bl	LCD_Show_String
 119              	.LVL6:
 154:Core/Src/app.c **** }
 120              		.loc 1 154 1 is_stmt 0 view .LVU8
 121 009a 04B0     		add	sp, sp, #16
 122              		@ sp needed
 123 009c 80BC     		pop	{r7}
 124 009e B846     		mov	r8, r7
 125 00a0 F0BD     		pop	{r4, r5, r6, r7, pc}
 126              		.cfi_endproc
 127              	.LFE65:
 129              		.global	__aeabi_i2f
 130              		.global	__aeabi_fdiv
 131              		.section	.rodata.AppStateDisplay.str1.4,"aMS",%progbits,1
 132              		.align	2
 133              	.LC2:
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 6


 134 0000 4F4E2000 		.ascii	"ON \000"
 135              		.align	2
 136              	.LC3:
 137 0004 4F464600 		.ascii	"OFF\000"
 138              		.global	__aeabi_ui2f
 139              		.section	.text.AppStateDisplay,"ax",%progbits
 140              		.align	1
 141              		.global	AppStateDisplay
 142              		.syntax unified
 143              		.code	16
 144              		.thumb_func
 146              	AppStateDisplay:
 147              	.LFB66:
 155:Core/Src/app.c **** 
 156:Core/Src/app.c **** /*
 157:Core/Src/app.c ****  * @brief  
 158:Core/Src/app.c ****  * @param  None
 159:Core/Src/app.c ****  * @retval None
 160:Core/Src/app.c ****  */
 161:Core/Src/app.c **** void AppStateDisplay(void)
 162:Core/Src/app.c **** {
 148              		.loc 1 162 1 is_stmt 1 view -0
 149              		.cfi_startproc
 150              		@ args = 0, pretend = 0, frame = 0
 151              		@ frame_needed = 0, uses_anonymous_args = 0
 152 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 153              	.LCFI3:
 154              		.cfi_def_cfa_offset 20
 155              		.cfi_offset 4, -20
 156              		.cfi_offset 5, -16
 157              		.cfi_offset 6, -12
 158              		.cfi_offset 7, -8
 159              		.cfi_offset 14, -4
 160 0002 85B0     		sub	sp, sp, #20
 161              	.LCFI4:
 162              		.cfi_def_cfa_offset 40
 163:Core/Src/app.c ****     /* input signal */
 164:Core/Src/app.c ****     LCD_ShowFloatNum1(27, 102, (float)app_data.wave_vpp / 100, 4, YELLOW, BLACK, 12);     // vpp
 163              		.loc 1 164 5 view .LVU10
 164              		.loc 1 164 47 is_stmt 0 view .LVU11
 165 0004 40F20004 		movw	r4, #:lower16:app_data
 166 0008 C0F20004 		movt	r4, #:upper16:app_data
 167 000c 2069     		ldr	r0, [r4, #16]
 168              		.loc 1 164 32 view .LVU12
 169 000e FFF7FEFF 		bl	__aeabi_i2f
 170              	.LVL7:
 171              		.loc 1 164 5 view .LVU13
 172 0012 0021     		movs	r1, #0
 173 0014 C4F2C821 		movt	r1, 17096
 174 0018 FFF7FEFF 		bl	__aeabi_fdiv
 175              	.LVL8:
 176 001c 021C     		adds	r2, r0, #0
 177 001e 0C27     		movs	r7, #12
 178 0020 0297     		str	r7, [sp, #8]
 179 0022 0026     		movs	r6, #0
 180 0024 0196     		str	r6, [sp, #4]
 181 0026 4FF6E075 		movw	r5, #65504
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 7


 182 002a 0095     		str	r5, [sp]
 183 002c 0423     		movs	r3, #4
 184 002e 6621     		movs	r1, #102
 185 0030 1B20     		movs	r0, #27
 186 0032 FFF7FEFF 		bl	LCD_ShowFloatNum1
 187              	.LVL9:
 165:Core/Src/app.c ****     LCD_ShowFloatNum1(87, 102, (float)app_data.wave_freq / 1000, 5, YELLOW, BLACK, 12);   // freque
 188              		.loc 1 165 5 is_stmt 1 view .LVU14
 189              		.loc 1 165 47 is_stmt 0 view .LVU15
 190 0036 E068     		ldr	r0, [r4, #12]
 191              		.loc 1 165 32 view .LVU16
 192 0038 FFF7FEFF 		bl	__aeabi_i2f
 193              	.LVL10:
 194              		.loc 1 165 5 view .LVU17
 195 003c 0021     		movs	r1, #0
 196 003e C4F27A41 		movt	r1, 17530
 197 0042 FFF7FEFF 		bl	__aeabi_fdiv
 198              	.LVL11:
 199 0046 021C     		adds	r2, r0, #0
 200 0048 0297     		str	r7, [sp, #8]
 201 004a 0196     		str	r6, [sp, #4]
 202 004c 0095     		str	r5, [sp]
 203 004e 0523     		movs	r3, #5
 204 0050 6621     		movs	r1, #102
 205 0052 5720     		movs	r0, #87
 206 0054 FFF7FEFF 		bl	LCD_ShowFloatNum1
 207              	.LVL12:
 166:Core/Src/app.c ****     /* PWM */
 167:Core/Src/app.c ****     if (app_state.pwm_state != PWM_STATE_DISABLE) {                                       // pwm sw
 208              		.loc 1 167 5 is_stmt 1 view .LVU18
 209              		.loc 1 167 29 is_stmt 0 view .LVU19
 210 0058 40F20003 		movw	r3, #:lower16:app_state
 211 005c C0F20003 		movt	r3, #:upper16:app_state
 212 0060 1B78     		ldrb	r3, [r3]
 213 0062 0F22     		movs	r2, #15
 214 0064 9343     		bics	r3, r2
 215              		.loc 1 167 8 view .LVU20
 216 0066 402B     		cmp	r3, #64
 217 0068 32D0     		beq	.L3
 168:Core/Src/app.c ****         LCD_Show_String(27, 116, (uint8_t *)"ON ", PURPLE, BLACK, 12, 0);
 218              		.loc 1 168 9 is_stmt 1 view .LVU21
 219 006a 40F20002 		movw	r2, #:lower16:.LC2
 220 006e C0F20002 		movt	r2, #:upper16:.LC2
 221 0072 0023     		movs	r3, #0
 222 0074 0293     		str	r3, [sp, #8]
 223 0076 0C21     		movs	r1, #12
 224 0078 0191     		str	r1, [sp, #4]
 225 007a 0093     		str	r3, [sp]
 226 007c 48F21003 		movw	r3, #32784
 227 0080 6831     		adds	r1, r1, #104
 228 0082 1B20     		movs	r0, #27
 229 0084 FFF7FEFF 		bl	LCD_Show_String
 230              	.LVL13:
 231              	.L4:
 169:Core/Src/app.c ****     } else {
 170:Core/Src/app.c ****         LCD_Show_String(27, 116, (uint8_t *)"OFF", PURPLE, BLACK, 12, 0);
 171:Core/Src/app.c ****     }
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 8


 172:Core/Src/app.c ****     LCD_ShowFloatNum1(57, 116, (float)app_data.pwm_freq / 1000, 3, PURPLE, BLACK, 12);    // pwm fr
 232              		.loc 1 172 5 view .LVU22
 233              		.loc 1 172 47 is_stmt 0 view .LVU23
 234 0088 40F20004 		movw	r4, #:lower16:app_data
 235 008c C0F20004 		movt	r4, #:upper16:app_data
 236 0090 2068     		ldr	r0, [r4]
 237              		.loc 1 172 32 view .LVU24
 238 0092 FFF7FEFF 		bl	__aeabi_ui2f
 239              	.LVL14:
 240              		.loc 1 172 5 view .LVU25
 241 0096 0021     		movs	r1, #0
 242 0098 C4F27A41 		movt	r1, 17530
 243 009c FFF7FEFF 		bl	__aeabi_fdiv
 244              	.LVL15:
 245 00a0 021C     		adds	r2, r0, #0
 246 00a2 0C27     		movs	r7, #12
 247 00a4 0297     		str	r7, [sp, #8]
 248 00a6 0026     		movs	r6, #0
 249 00a8 0196     		str	r6, [sp, #4]
 250 00aa 48F21005 		movw	r5, #32784
 251 00ae 0095     		str	r5, [sp]
 252 00b0 0323     		movs	r3, #3
 253 00b2 7421     		movs	r1, #116
 254 00b4 3920     		movs	r0, #57
 255 00b6 FFF7FEFF 		bl	LCD_ShowFloatNum1
 256              	.LVL16:
 173:Core/Src/app.c ****     LCD_ShowIntNum(117, 116, (uint16_t)app_data.pwm_duty, 3, PURPLE, BLACK, 12);          // pwm du
 257              		.loc 1 173 5 is_stmt 1 view .LVU26
 258 00ba A288     		ldrh	r2, [r4, #4]
 259 00bc 0297     		str	r7, [sp, #8]
 260 00be 0196     		str	r6, [sp, #4]
 261 00c0 0095     		str	r5, [sp]
 262 00c2 0323     		movs	r3, #3
 263 00c4 7421     		movs	r1, #116
 264 00c6 7520     		movs	r0, #117
 265 00c8 FFF7FEFF 		bl	LCD_ShowIntNum
 266              	.LVL17:
 174:Core/Src/app.c **** }
 267              		.loc 1 174 1 is_stmt 0 view .LVU27
 268 00cc 05B0     		add	sp, sp, #20
 269              		@ sp needed
 270 00ce F0BD     		pop	{r4, r5, r6, r7, pc}
 271              	.L3:
 170:Core/Src/app.c ****     }
 272              		.loc 1 170 9 is_stmt 1 view .LVU28
 273 00d0 40F20002 		movw	r2, #:lower16:.LC3
 274 00d4 C0F20002 		movt	r2, #:upper16:.LC3
 275 00d8 0023     		movs	r3, #0
 276 00da 0293     		str	r3, [sp, #8]
 277 00dc 0C21     		movs	r1, #12
 278 00de 0191     		str	r1, [sp, #4]
 279 00e0 0093     		str	r3, [sp]
 280 00e2 48F21003 		movw	r3, #32784
 281 00e6 6831     		adds	r1, r1, #104
 282 00e8 1B20     		movs	r0, #27
 283 00ea FFF7FEFF 		bl	LCD_Show_String
 284              	.LVL18:
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 9


 285 00ee CBE7     		b	.L4
 286              		.cfi_endproc
 287              	.LFE66:
 289              		.section	.text.__io_putchar,"ax",%progbits
 290              		.align	1
 291              		.global	__io_putchar
 292              		.syntax unified
 293              		.code	16
 294              		.thumb_func
 296              	__io_putchar:
 297              	.LVL19:
 298              	.LFB68:
 175:Core/Src/app.c **** 
 176:Core/Src/app.c **** /*
 177:Core/Src/app.c ****  * @brief  
 178:Core/Src/app.c ****  * @param  None
 179:Core/Src/app.c ****  * @retval None
 180:Core/Src/app.c ****  */
 181:Core/Src/app.c **** void WaveformDisplay(void)
 182:Core/Src/app.c **** {    
 183:Core/Src/app.c ****     int16_t i, x;
 184:Core/Src/app.c ****     float voltage;
 185:Core/Src/app.c **** 
 186:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "function WaveformDisplay exeute...");
 187:Core/Src/app.c **** 
 188:Core/Src/app.c ****     if (app_data.waveform.start + 1 >= LENGTH) {
 189:Core/Src/app.c ****         app_data.waveform.start = 0;
 190:Core/Src/app.c ****         app_data.waveform.end ++;
 191:Core/Src/app.c ****     } else if (app_data.waveform.end + 1 >= LENGTH) {
 192:Core/Src/app.c ****         app_data.waveform.end = 0;
 193:Core/Src/app.c ****         app_data.waveform.start++;
 194:Core/Src/app.c ****     } else {
 195:Core/Src/app.c ****         app_data.waveform.start++;
 196:Core/Src/app.c ****         app_data.waveform.end++;
 197:Core/Src/app.c ****     }
 198:Core/Src/app.c ****     voltage = ADCGetValue(ADC_CHANNEL_3) / 4096.0f;
 199:Core/Src/app.c ****     app_data.waveform.data[app_data.waveform.end] = (int16_t)(voltage * 32 + 0.5f);
 200:Core/Src/app.c ****     
 201:Core/Src/app.c ****     if (voltage > app_data.wave_vpp)
 202:Core/Src/app.c ****         app_data.wave_vpp = (int32_t)(voltage * 3.3 * 100);
 203:Core/Src/app.c **** 
 204:Core/Src/app.c ****     i = app_data.waveform.start;
 205:Core/Src/app.c ****     LCD_Fill(4, 24, LCD_WIDTH, 95, BLACK);
 206:Core/Src/app.c ****     while (i != app_data.waveform.end) {
 207:Core/Src/app.c ****         x = LCD_Draw_Curve(3, 60, app_data.waveform.data[i++]);
 208:Core/Src/app.c ****         LCD_Draw_Point(x, 60, PURPLE);
 209:Core/Src/app.c ****         if (i >= LENGTH) {
 210:Core/Src/app.c ****             i = 0;
 211:Core/Src/app.c ****         }
 212:Core/Src/app.c ****     }
 213:Core/Src/app.c **** }
 214:Core/Src/app.c **** 
 215:Core/Src/app.c **** #if OPEN_ZLOG == 1
 216:Core/Src/app.c **** /* 
 217:Core/Src/app.c ****  * @brief    retarget the C library printf function to the USART
 218:Core/Src/app.c ****  * @param    ch: character to be printed
 219:Core/Src/app.c ****  * @retval   none
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 10


 220:Core/Src/app.c ****  */
 221:Core/Src/app.c **** int __io_putchar(int ch)
 222:Core/Src/app.c **** {
 299              		.loc 1 222 1 view -0
 300              		.cfi_startproc
 301              		@ args = 0, pretend = 0, frame = 0
 302              		@ frame_needed = 0, uses_anonymous_args = 0
 303              		.loc 1 222 1 is_stmt 0 view .LVU30
 304 0000 10B5     		push	{r4, lr}
 305              	.LCFI5:
 306              		.cfi_def_cfa_offset 8
 307              		.cfi_offset 4, -8
 308              		.cfi_offset 14, -4
 309 0002 0400     		movs	r4, r0
 223:Core/Src/app.c ****     usart_data_transmit(USART0, (uint8_t)ch);
 310              		.loc 1 223 5 is_stmt 1 view .LVU31
 311 0004 FF21     		movs	r1, #255
 312 0006 0140     		ands	r1, r0
 313 0008 43F60000 		movw	r0, #14336
 314              	.LVL20:
 315              		.loc 1 223 5 is_stmt 0 view .LVU32
 316 000c C4F20100 		movt	r0, 16385
 317 0010 FFF7FEFF 		bl	usart_data_transmit
 318              	.LVL21:
 224:Core/Src/app.c ****     while(RESET == usart_flag_get(USART0, USART_FLAG_TBE));
 319              		.loc 1 224 5 is_stmt 1 view .LVU33
 320              	.L6:
 321              		.loc 1 224 17 discriminator 1 view .LVU34
 322              		.loc 1 224 20 is_stmt 0 discriminator 1 view .LVU35
 323 0014 43F60000 		movw	r0, #14336
 324 0018 C4F20100 		movt	r0, 16385
 325 001c 40F20771 		movw	r1, #1799
 326 0020 FFF7FEFF 		bl	usart_flag_get
 327              	.LVL22:
 328              		.loc 1 224 17 discriminator 1 view .LVU36
 329 0024 0028     		cmp	r0, #0
 330 0026 F5D0     		beq	.L6
 225:Core/Src/app.c **** 
 226:Core/Src/app.c ****     return ch;
 331              		.loc 1 226 5 is_stmt 1 view .LVU37
 227:Core/Src/app.c **** }
 332              		.loc 1 227 1 is_stmt 0 view .LVU38
 333 0028 2000     		movs	r0, r4
 334              		@ sp needed
 335              	.LVL23:
 336              		.loc 1 227 1 view .LVU39
 337 002a 10BD     		pop	{r4, pc}
 338              		.cfi_endproc
 339              	.LFE68:
 341              		.section	.text.ADCGetValue,"ax",%progbits
 342              		.align	1
 343              		.global	ADCGetValue
 344              		.syntax unified
 345              		.code	16
 346              		.thumb_func
 348              	ADCGetValue:
 349              	.LVL24:
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 11


 350              	.LFB69:
 228:Core/Src/app.c **** #endif
 229:Core/Src/app.c **** 
 230:Core/Src/app.c **** /*
 231:Core/Src/app.c ****  * @brief    get ADC sampling value
 232:Core/Src/app.c ****  * @param    channel: specify the ADC channel
 233:Core/Src/app.c ****  * @retval   16-bit adc sampling value
 234:Core/Src/app.c ****  */
 235:Core/Src/app.c **** uint16_t ADCGetValue(uint8_t ADC_CHANNEL_x)
 236:Core/Src/app.c **** {
 351              		.loc 1 236 1 is_stmt 1 view -0
 352              		.cfi_startproc
 353              		@ args = 0, pretend = 0, frame = 0
 354              		@ frame_needed = 0, uses_anonymous_args = 0
 355              		.loc 1 236 1 is_stmt 0 view .LVU41
 356 0000 10B5     		push	{r4, lr}
 357              	.LCFI6:
 358              		.cfi_def_cfa_offset 8
 359              		.cfi_offset 4, -8
 360              		.cfi_offset 14, -4
 361 0002 0100     		movs	r1, r0
 237:Core/Src/app.c ****     uint16_t adc_value = 0;
 362              		.loc 1 237 5 is_stmt 1 view .LVU42
 363              	.LVL25:
 238:Core/Src/app.c **** 
 239:Core/Src/app.c ****     adc_regular_channel_config(0, ADC_CHANNEL_x, ADC_SAMPLETIME_55POINT5);
 364              		.loc 1 239 5 view .LVU43
 365 0004 0522     		movs	r2, #5
 366 0006 0020     		movs	r0, #0
 367              	.LVL26:
 368              		.loc 1 239 5 is_stmt 0 view .LVU44
 369 0008 FFF7FEFF 		bl	adc_regular_channel_config
 370              	.LVL27:
 240:Core/Src/app.c ****     adc_software_trigger_enable(ADC_REGULAR_CHANNEL);
 371              		.loc 1 240 5 is_stmt 1 view .LVU45
 372 000c 0120     		movs	r0, #1
 373 000e FFF7FEFF 		bl	adc_software_trigger_enable
 374              	.LVL28:
 241:Core/Src/app.c **** 
 242:Core/Src/app.c ****     while (adc_flag_get(ADC_FLAG_EOC) == RESET);
 375              		.loc 1 242 5 view .LVU46
 376              	.L8:
 377              		.loc 1 242 39 discriminator 1 view .LVU47
 378              		.loc 1 242 12 is_stmt 0 discriminator 1 view .LVU48
 379 0012 0220     		movs	r0, #2
 380 0014 FFF7FEFF 		bl	adc_flag_get
 381              	.LVL29:
 382              		.loc 1 242 39 discriminator 1 view .LVU49
 383 0018 0028     		cmp	r0, #0
 384 001a FAD0     		beq	.L8
 243:Core/Src/app.c ****     adc_value = adc_regular_data_read();
 385              		.loc 1 243 5 is_stmt 1 view .LVU50
 386              		.loc 1 243 17 is_stmt 0 view .LVU51
 387 001c FFF7FEFF 		bl	adc_regular_data_read
 388              	.LVL30:
 244:Core/Src/app.c **** 
 245:Core/Src/app.c ****     return adc_value;
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 12


 389              		.loc 1 245 5 is_stmt 1 view .LVU52
 246:Core/Src/app.c **** }
 390              		.loc 1 246 1 is_stmt 0 view .LVU53
 391              		@ sp needed
 392 0020 10BD     		pop	{r4, pc}
 393              		.cfi_endproc
 394              	.LFE69:
 396              		.section	.rodata.WaveformDisplay.str1.4,"aMS",%progbits,1
 397              		.align	2
 398              	.LC4:
 399 0000 66756E63 		.ascii	"function WaveformDisplay exeute...\000"
 399      74696F6E 
 399      20576176 
 399      65666F72 
 399      6D446973 
 400              		.global	__aeabi_fmul
 401              		.global	__aeabi_fadd
 402              		.global	__aeabi_f2iz
 403              		.global	__aeabi_fcmplt
 404              		.global	__aeabi_f2d
 405              		.global	__aeabi_dmul
 406              		.global	__aeabi_d2iz
 407              		.section	.text.WaveformDisplay,"ax",%progbits
 408              		.align	1
 409              		.global	WaveformDisplay
 410              		.syntax unified
 411              		.code	16
 412              		.thumb_func
 414              	WaveformDisplay:
 415              	.LFB67:
 182:Core/Src/app.c ****     int16_t i, x;
 416              		.loc 1 182 1 is_stmt 1 view -0
 417              		.cfi_startproc
 418              		@ args = 0, pretend = 0, frame = 0
 419              		@ frame_needed = 0, uses_anonymous_args = 0
 420 0000 70B5     		push	{r4, r5, r6, lr}
 421              	.LCFI7:
 422              		.cfi_def_cfa_offset 16
 423              		.cfi_offset 4, -16
 424              		.cfi_offset 5, -12
 425              		.cfi_offset 6, -8
 426              		.cfi_offset 14, -4
 427 0002 82B0     		sub	sp, sp, #8
 428              	.LCFI8:
 429              		.cfi_def_cfa_offset 24
 183:Core/Src/app.c ****     float voltage;
 430              		.loc 1 183 5 view .LVU55
 184:Core/Src/app.c **** 
 431              		.loc 1 184 5 view .LVU56
 186:Core/Src/app.c **** 
 432              		.loc 1 186 5 view .LVU57
 433 0004 40F20003 		movw	r3, #:lower16:.LC4
 434 0008 C0F20003 		movt	r3, #:upper16:.LC4
 435 000c 40F20001 		movw	r1, #:lower16:__FUNCTION__.0
 436 0010 C0F20001 		movt	r1, #:upper16:__FUNCTION__.0
 437 0014 BA22     		movs	r2, #186
 438 0016 0020     		movs	r0, #0
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 13


 439 0018 FFF7FEFF 		bl	EM_LOG
 440              	.LVL31:
 188:Core/Src/app.c ****         app_data.waveform.start = 0;
 441              		.loc 1 188 5 view .LVU58
 188:Core/Src/app.c ****         app_data.waveform.start = 0;
 442              		.loc 1 188 26 is_stmt 0 view .LVU59
 443 001c 40F20003 		movw	r3, #:lower16:app_data
 444 0020 C0F20003 		movt	r3, #:upper16:app_data
 445 0024 1B7D     		ldrb	r3, [r3, #20]
 188:Core/Src/app.c ****         app_data.waveform.start = 0;
 446              		.loc 1 188 8 view .LVU60
 447 0026 9C2B     		cmp	r3, #156
 448 0028 71D9     		bls	.L10
 189:Core/Src/app.c ****         app_data.waveform.end ++;
 449              		.loc 1 189 9 is_stmt 1 view .LVU61
 189:Core/Src/app.c ****         app_data.waveform.end ++;
 450              		.loc 1 189 33 is_stmt 0 view .LVU62
 451 002a 40F20003 		movw	r3, #:lower16:app_data
 452 002e C0F20003 		movt	r3, #:upper16:app_data
 453 0032 0022     		movs	r2, #0
 454 0034 1A75     		strb	r2, [r3, #20]
 190:Core/Src/app.c ****     } else if (app_data.waveform.end + 1 >= LENGTH) {
 455              		.loc 1 190 9 is_stmt 1 view .LVU63
 190:Core/Src/app.c ****     } else if (app_data.waveform.end + 1 >= LENGTH) {
 456              		.loc 1 190 26 is_stmt 0 view .LVU64
 457 0036 5A7D     		ldrb	r2, [r3, #21]
 190:Core/Src/app.c ****     } else if (app_data.waveform.end + 1 >= LENGTH) {
 458              		.loc 1 190 31 view .LVU65
 459 0038 0132     		adds	r2, r2, #1
 460 003a 5A75     		strb	r2, [r3, #21]
 461              	.L11:
 198:Core/Src/app.c ****     app_data.waveform.data[app_data.waveform.end] = (int16_t)(voltage * 32 + 0.5f);
 462              		.loc 1 198 5 is_stmt 1 view .LVU66
 198:Core/Src/app.c ****     app_data.waveform.data[app_data.waveform.end] = (int16_t)(voltage * 32 + 0.5f);
 463              		.loc 1 198 15 is_stmt 0 view .LVU67
 464 003c 0320     		movs	r0, #3
 465 003e FFF7FEFF 		bl	ADCGetValue
 466              	.LVL32:
 198:Core/Src/app.c ****     app_data.waveform.data[app_data.waveform.end] = (int16_t)(voltage * 32 + 0.5f);
 467              		.loc 1 198 42 discriminator 1 view .LVU68
 468 0042 FFF7FEFF 		bl	__aeabi_i2f
 469              	.LVL33:
 198:Core/Src/app.c ****     app_data.waveform.data[app_data.waveform.end] = (int16_t)(voltage * 32 + 0.5f);
 470              		.loc 1 198 13 discriminator 1 view .LVU69
 471 0046 E621     		movs	r1, #230
 472 0048 8905     		lsls	r1, r1, #22
 473 004a FFF7FEFF 		bl	__aeabi_fmul
 474              	.LVL34:
 475 004e 051C     		adds	r5, r0, #0
 476              	.LVL35:
 199:Core/Src/app.c ****     
 477              		.loc 1 199 5 is_stmt 1 view .LVU70
 199:Core/Src/app.c ****     
 478              		.loc 1 199 71 is_stmt 0 view .LVU71
 479 0050 8421     		movs	r1, #132
 480 0052 C905     		lsls	r1, r1, #23
 481 0054 FFF7FEFF 		bl	__aeabi_fmul
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 14


 482              	.LVL36:
 199:Core/Src/app.c ****     
 483              		.loc 1 199 76 view .LVU72
 484 0058 FC21     		movs	r1, #252
 485 005a 8905     		lsls	r1, r1, #22
 486 005c FFF7FEFF 		bl	__aeabi_fadd
 487              	.LVL37:
 199:Core/Src/app.c ****     
 488              		.loc 1 199 45 view .LVU73
 489 0060 40F20006 		movw	r6, #:lower16:app_data
 490 0064 C0F20006 		movt	r6, #:upper16:app_data
 491 0068 747D     		ldrb	r4, [r6, #21]
 199:Core/Src/app.c ****     
 492              		.loc 1 199 53 view .LVU74
 493 006a FFF7FEFF 		bl	__aeabi_f2iz
 494              	.LVL38:
 199:Core/Src/app.c ****     
 495              		.loc 1 199 51 view .LVU75
 496 006e 0834     		adds	r4, r4, #8
 497 0070 6400     		lsls	r4, r4, #1
 498 0072 B446     		mov	ip, r6
 499 0074 6444     		add	r4, r4, ip
 500 0076 E080     		strh	r0, [r4, #6]
 201:Core/Src/app.c ****         app_data.wave_vpp = (int32_t)(voltage * 3.3 * 100);
 501              		.loc 1 201 5 is_stmt 1 view .LVU76
 201:Core/Src/app.c ****         app_data.wave_vpp = (int32_t)(voltage * 3.3 * 100);
 502              		.loc 1 201 27 is_stmt 0 view .LVU77
 503 0078 3069     		ldr	r0, [r6, #16]
 201:Core/Src/app.c ****         app_data.wave_vpp = (int32_t)(voltage * 3.3 * 100);
 504              		.loc 1 201 17 view .LVU78
 505 007a FFF7FEFF 		bl	__aeabi_i2f
 506              	.LVL39:
 201:Core/Src/app.c ****         app_data.wave_vpp = (int32_t)(voltage * 3.3 * 100);
 507              		.loc 1 201 8 view .LVU79
 508 007e 291C     		adds	r1, r5, #0
 509 0080 FFF7FEFF 		bl	__aeabi_fcmplt
 510              	.LVL40:
 511 0084 A8B1     		cbz	r0, .L13
 202:Core/Src/app.c **** 
 512              		.loc 1 202 9 is_stmt 1 view .LVU80
 202:Core/Src/app.c **** 
 513              		.loc 1 202 47 is_stmt 0 view .LVU81
 514 0086 281C     		adds	r0, r5, #0
 515 0088 FFF7FEFF 		bl	__aeabi_f2d
 516              	.LVL41:
 517 008c 46F26662 		movw	r2, #26214
 518 0090 C6F26662 		movt	r2, 26214
 519 0094 46F26663 		movw	r3, #26214
 520 0098 C4F20A03 		movt	r3, 16394
 521 009c FFF7FEFF 		bl	__aeabi_dmul
 522              	.LVL42:
 202:Core/Src/app.c **** 
 523              		.loc 1 202 53 view .LVU82
 524 00a0 0022     		movs	r2, #0
 525 00a2 0023     		movs	r3, #0
 526 00a4 C4F25903 		movt	r3, 16473
 527 00a8 FFF7FEFF 		bl	__aeabi_dmul
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 15


 528              	.LVL43:
 202:Core/Src/app.c **** 
 529              		.loc 1 202 29 view .LVU83
 530 00ac FFF7FEFF 		bl	__aeabi_d2iz
 531              	.LVL44:
 202:Core/Src/app.c **** 
 532              		.loc 1 202 27 view .LVU84
 533 00b0 3061     		str	r0, [r6, #16]
 534              	.L13:
 204:Core/Src/app.c ****     LCD_Fill(4, 24, LCD_WIDTH, 95, BLACK);
 535              		.loc 1 204 5 is_stmt 1 view .LVU85
 204:Core/Src/app.c ****     LCD_Fill(4, 24, LCD_WIDTH, 95, BLACK);
 536              		.loc 1 204 26 is_stmt 0 view .LVU86
 537 00b2 40F20003 		movw	r3, #:lower16:app_data
 538 00b6 C0F20003 		movt	r3, #:upper16:app_data
 204:Core/Src/app.c ****     LCD_Fill(4, 24, LCD_WIDTH, 95, BLACK);
 539              		.loc 1 204 7 view .LVU87
 540 00ba 1C7D     		ldrb	r4, [r3, #20]
 541              	.LVL45:
 205:Core/Src/app.c ****     while (i != app_data.waveform.end) {
 542              		.loc 1 205 5 is_stmt 1 view .LVU88
 543 00bc 0023     		movs	r3, #0
 544 00be 0093     		str	r3, [sp]
 545 00c0 5F33     		adds	r3, r3, #95
 546 00c2 A122     		movs	r2, #161
 547 00c4 1821     		movs	r1, #24
 548 00c6 0420     		movs	r0, #4
 549 00c8 FFF7FEFF 		bl	LCD_Fill
 550              	.LVL46:
 206:Core/Src/app.c ****         x = LCD_Draw_Curve(3, 60, app_data.waveform.data[i++]);
 551              		.loc 1 206 5 view .LVU89
 552              	.L15:
 206:Core/Src/app.c ****         x = LCD_Draw_Curve(3, 60, app_data.waveform.data[i++]);
 553              		.loc 1 206 14 view .LVU90
 554 00cc 2300     		movs	r3, r4
 206:Core/Src/app.c ****         x = LCD_Draw_Curve(3, 60, app_data.waveform.data[i++]);
 555              		.loc 1 206 34 is_stmt 0 view .LVU91
 556 00ce 40F20002 		movw	r2, #:lower16:app_data
 557 00d2 C0F20002 		movt	r2, #:upper16:app_data
 558 00d6 527D     		ldrb	r2, [r2, #21]
 206:Core/Src/app.c ****         x = LCD_Draw_Curve(3, 60, app_data.waveform.data[i++]);
 559              		.loc 1 206 14 view .LVU92
 560 00d8 9442     		cmp	r4, r2
 561 00da 31D0     		beq	.L20
 207:Core/Src/app.c ****         LCD_Draw_Point(x, 60, PURPLE);
 562              		.loc 1 207 9 is_stmt 1 view .LVU93
 207:Core/Src/app.c ****         LCD_Draw_Point(x, 60, PURPLE);
 563              		.loc 1 207 59 is_stmt 0 view .LVU94
 564 00dc 0134     		adds	r4, r4, #1
 565              	.LVL47:
 207:Core/Src/app.c ****         LCD_Draw_Point(x, 60, PURPLE);
 566              		.loc 1 207 59 view .LVU95
 567 00de 24B2     		sxth	r4, r4
 568              	.LVL48:
 207:Core/Src/app.c ****         LCD_Draw_Point(x, 60, PURPLE);
 569              		.loc 1 207 13 view .LVU96
 570 00e0 0833     		adds	r3, r3, #8
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 16


 571 00e2 5B00     		lsls	r3, r3, #1
 572 00e4 40F20002 		movw	r2, #:lower16:app_data
 573 00e8 C0F20002 		movt	r2, #:upper16:app_data
 574 00ec 9446     		mov	ip, r2
 575 00ee 6344     		add	r3, r3, ip
 576 00f0 0622     		movs	r2, #6
 577 00f2 9A5E     		ldrsh	r2, [r3, r2]
 578 00f4 3C21     		movs	r1, #60
 579 00f6 0320     		movs	r0, #3
 580 00f8 FFF7FEFF 		bl	LCD_Draw_Curve
 581              	.LVL49:
 208:Core/Src/app.c ****         if (i >= LENGTH) {
 582              		.loc 1 208 9 is_stmt 1 view .LVU97
 583 00fc 48F21002 		movw	r2, #32784
 584 0100 3C21     		movs	r1, #60
 585 0102 FFF7FEFF 		bl	LCD_Draw_Point
 586              	.LVL50:
 209:Core/Src/app.c ****             i = 0;
 587              		.loc 1 209 9 view .LVU98
 209:Core/Src/app.c ****             i = 0;
 588              		.loc 1 209 12 is_stmt 0 view .LVU99
 589 0106 9D2C     		cmp	r4, #157
 590 0108 E0DD     		ble	.L15
 210:Core/Src/app.c ****         }
 591              		.loc 1 210 15 view .LVU100
 592 010a 0024     		movs	r4, #0
 593              	.LVL51:
 210:Core/Src/app.c ****         }
 594              		.loc 1 210 15 view .LVU101
 595 010c DEE7     		b	.L15
 596              	.LVL52:
 597              	.L10:
 191:Core/Src/app.c ****         app_data.waveform.end = 0;
 598              		.loc 1 191 12 is_stmt 1 view .LVU102
 191:Core/Src/app.c ****         app_data.waveform.end = 0;
 599              		.loc 1 191 33 is_stmt 0 view .LVU103
 600 010e 40F20002 		movw	r2, #:lower16:app_data
 601 0112 C0F20002 		movt	r2, #:upper16:app_data
 602 0116 527D     		ldrb	r2, [r2, #21]
 191:Core/Src/app.c ****         app_data.waveform.end = 0;
 603              		.loc 1 191 15 view .LVU104
 604 0118 9C2A     		cmp	r2, #156
 605 011a 08D9     		bls	.L12
 192:Core/Src/app.c ****         app_data.waveform.start++;
 606              		.loc 1 192 9 is_stmt 1 view .LVU105
 192:Core/Src/app.c ****         app_data.waveform.start++;
 607              		.loc 1 192 31 is_stmt 0 view .LVU106
 608 011c 40F20002 		movw	r2, #:lower16:app_data
 609 0120 C0F20002 		movt	r2, #:upper16:app_data
 610 0124 0021     		movs	r1, #0
 611 0126 5175     		strb	r1, [r2, #21]
 193:Core/Src/app.c ****     } else {
 612              		.loc 1 193 9 is_stmt 1 view .LVU107
 193:Core/Src/app.c ****     } else {
 613              		.loc 1 193 32 is_stmt 0 view .LVU108
 614 0128 0133     		adds	r3, r3, #1
 615 012a 1375     		strb	r3, [r2, #20]
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 17


 616 012c 86E7     		b	.L11
 617              	.L12:
 195:Core/Src/app.c ****         app_data.waveform.end++;
 618              		.loc 1 195 9 is_stmt 1 view .LVU109
 195:Core/Src/app.c ****         app_data.waveform.end++;
 619              		.loc 1 195 32 is_stmt 0 view .LVU110
 620 012e 40F20001 		movw	r1, #:lower16:app_data
 621 0132 C0F20001 		movt	r1, #:upper16:app_data
 622 0136 0133     		adds	r3, r3, #1
 623 0138 0B75     		strb	r3, [r1, #20]
 196:Core/Src/app.c ****     }
 624              		.loc 1 196 9 is_stmt 1 view .LVU111
 196:Core/Src/app.c ****     }
 625              		.loc 1 196 30 is_stmt 0 view .LVU112
 626 013a 0132     		adds	r2, r2, #1
 627 013c 4A75     		strb	r2, [r1, #21]
 628 013e 7DE7     		b	.L11
 629              	.LVL53:
 630              	.L20:
 213:Core/Src/app.c **** 
 631              		.loc 1 213 1 view .LVU113
 632 0140 02B0     		add	sp, sp, #8
 633              		@ sp needed
 634              	.LVL54:
 635              	.LVL55:
 213:Core/Src/app.c **** 
 636              		.loc 1 213 1 view .LVU114
 637 0142 70BD     		pop	{r4, r5, r6, pc}
 638              		.cfi_endproc
 639              	.LFE67:
 641              		.section	.rodata.AppInit.str1.4,"aMS",%progbits,1
 642              		.align	2
 643              	.LC5:
 644 0000 41707020 		.ascii	"App Start!\000"
 644      53746172 
 644      742100
 645              		.section	.text.AppInit,"ax",%progbits
 646              		.align	1
 647              		.global	AppInit
 648              		.syntax unified
 649              		.code	16
 650              		.thumb_func
 652              	AppInit:
 653              	.LFB63:
  39:Core/Src/app.c ****     /* program data initialization */
 654              		.loc 1 39 1 is_stmt 1 view -0
 655              		.cfi_startproc
 656              		@ args = 0, pretend = 0, frame = 0
 657              		@ frame_needed = 0, uses_anonymous_args = 0
 658 0000 10B5     		push	{r4, lr}
 659              	.LCFI9:
 660              		.cfi_def_cfa_offset 8
 661              		.cfi_offset 4, -8
 662              		.cfi_offset 14, -4
  41:Core/Src/app.c ****     app_data.pwm_duty = 50;
 663              		.loc 1 41 5 view .LVU116
  41:Core/Src/app.c ****     app_data.pwm_duty = 50;
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 18


 664              		.loc 1 41 23 is_stmt 0 view .LVU117
 665 0002 40F20003 		movw	r3, #:lower16:app_data
 666 0006 C0F20003 		movt	r3, #:upper16:app_data
 667 000a 3222     		movs	r2, #50
 668 000c 1A60     		str	r2, [r3]
  42:Core/Src/app.c ****     app_data.wave_freq = 0;
 669              		.loc 1 42 5 is_stmt 1 view .LVU118
  42:Core/Src/app.c ****     app_data.wave_freq = 0;
 670              		.loc 1 42 23 is_stmt 0 view .LVU119
 671 000e 5A60     		str	r2, [r3, #4]
  43:Core/Src/app.c ****     app_data.wave_vpp = 0;
 672              		.loc 1 43 5 is_stmt 1 view .LVU120
  43:Core/Src/app.c ****     app_data.wave_vpp = 0;
 673              		.loc 1 43 24 is_stmt 0 view .LVU121
 674 0010 0022     		movs	r2, #0
 675 0012 DA60     		str	r2, [r3, #12]
  44:Core/Src/app.c ****     app_data.wave_samp_freq = 500;     // 1 / (500 * 10 us) = 200 Hz
 676              		.loc 1 44 5 is_stmt 1 view .LVU122
  44:Core/Src/app.c ****     app_data.wave_samp_freq = 500;     // 1 / (500 * 10 us) = 200 Hz
 677              		.loc 1 44 23 is_stmt 0 view .LVU123
 678 0014 1A61     		str	r2, [r3, #16]
  45:Core/Src/app.c ****     app_data.waveform.start = 3;
 679              		.loc 1 45 5 is_stmt 1 view .LVU124
  45:Core/Src/app.c ****     app_data.waveform.start = 3;
 680              		.loc 1 45 29 is_stmt 0 view .LVU125
 681 0016 F532     		adds	r2, r2, #245
 682 0018 FF32     		adds	r2, r2, #255
 683 001a 9A60     		str	r2, [r3, #8]
  46:Core/Src/app.c ****     app_data.waveform.end = 159;
 684              		.loc 1 46 5 is_stmt 1 view .LVU126
  46:Core/Src/app.c ****     app_data.waveform.end = 159;
 685              		.loc 1 46 29 is_stmt 0 view .LVU127
 686 001c 0321     		movs	r1, #3
 687 001e 1975     		strb	r1, [r3, #20]
  47:Core/Src/app.c **** 
 688              		.loc 1 47 5 is_stmt 1 view .LVU128
  47:Core/Src/app.c **** 
 689              		.loc 1 47 27 is_stmt 0 view .LVU129
 690 0020 563A     		subs	r2, r2, #86
 691 0022 FF3A     		subs	r2, r2, #255
 692 0024 5A75     		strb	r2, [r3, #21]
  49:Core/Src/app.c ****     app_state.display_update = APP_STATE_ENABLE;
 693              		.loc 1 49 5 is_stmt 1 view .LVU130
  49:Core/Src/app.c ****     app_state.display_update = APP_STATE_ENABLE;
 694              		.loc 1 49 25 is_stmt 0 view .LVU131
 695 0026 40F20003 		movw	r3, #:lower16:app_state
 696 002a C0F20003 		movt	r3, #:upper16:app_state
 697 002e 1878     		ldrb	r0, [r3]
 698 0030 903A     		subs	r2, r2, #144
 699 0032 0240     		ands	r2, r0
 700 0034 4020     		movs	r0, #64
 701 0036 0243     		orrs	r2, r0
 702 0038 1A70     		strb	r2, [r3]
  50:Core/Src/app.c ****     app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 703              		.loc 1 50 5 is_stmt 1 view .LVU132
  50:Core/Src/app.c ****     app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 704              		.loc 1 50 30 is_stmt 0 view .LVU133
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 19


 705 003a D2B2     		uxtb	r2, r2
 706 003c 8A43     		bics	r2, r1
 707 003e 0121     		movs	r1, #1
 708 0040 0A43     		orrs	r2, r1
 709 0042 1A70     		strb	r2, [r3]
  51:Core/Src/app.c ****     
 710              		.loc 1 51 5 is_stmt 1 view .LVU134
  51:Core/Src/app.c ****     
 711              		.loc 1 51 31 is_stmt 0 view .LVU135
 712 0044 D2B2     		uxtb	r2, r2
 713 0046 0C21     		movs	r1, #12
 714 0048 8A43     		bics	r2, r1
 715 004a 1A70     		strb	r2, [r3]
  54:Core/Src/app.c ****     GPIOConfig();
 716              		.loc 1 54 5 is_stmt 1 view .LVU136
 717 004c FFF7FEFF 		bl	RCUConfig
 718              	.LVL56:
  55:Core/Src/app.c **** #if OPEN_ZLOG == 1
 719              		.loc 1 55 5 view .LVU137
 720 0050 FFF7FEFF 		bl	GPIOConfig
 721              	.LVL57:
  57:Core/Src/app.c **** #endif
 722              		.loc 1 57 5 view .LVU138
 723 0054 FFF7FEFF 		bl	USARTConfig
 724              	.LVL58:
  59:Core/Src/app.c ****     SPIConfig();
 725              		.loc 1 59 5 view .LVU139
 726 0058 FFF7FEFF 		bl	ADCConfig
 727              	.LVL59:
  60:Core/Src/app.c **** 
 728              		.loc 1 60 5 view .LVU140
 729 005c FFF7FEFF 		bl	SPIConfig
 730              	.LVL60:
  63:Core/Src/app.c ****     
 731              		.loc 1 63 5 view .LVU141
 732 0060 FFF7FEFF 		bl	LCD_Init
 733              	.LVL61:
  65:Core/Src/app.c ****     WaveformDisplay();
 734              		.loc 1 65 5 view .LVU142
 735 0064 FFF7FEFF 		bl	AppInterface
 736              	.LVL62:
  66:Core/Src/app.c ****     AppStateDisplay();
 737              		.loc 1 66 5 view .LVU143
 738 0068 FFF7FEFF 		bl	WaveformDisplay
 739              	.LVL63:
  67:Core/Src/app.c ****     
 740              		.loc 1 67 5 view .LVU144
 741 006c FFF7FEFF 		bl	AppStateDisplay
 742              	.LVL64:
  69:Core/Src/app.c **** 
 743              		.loc 1 69 5 view .LVU145
 744 0070 FFF7FEFF 		bl	TIMConfig
 745              	.LVL65:
  72:Core/Src/app.c **** }
 746              		.loc 1 72 5 view .LVU146
 747 0074 40F20003 		movw	r3, #:lower16:.LC5
 748 0078 C0F20003 		movt	r3, #:upper16:.LC5
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 20


 749 007c 40F20001 		movw	r1, #:lower16:__FUNCTION__.2
 750 0080 C0F20001 		movt	r1, #:upper16:__FUNCTION__.2
 751 0084 4822     		movs	r2, #72
 752 0086 0020     		movs	r0, #0
 753 0088 FFF7FEFF 		bl	EM_LOG
 754              	.LVL66:
  73:Core/Src/app.c **** 
 755              		.loc 1 73 1 is_stmt 0 view .LVU147
 756              		@ sp needed
 757 008c 10BD     		pop	{r4, pc}
 758              		.cfi_endproc
 759              	.LFE63:
 761              		.section	.rodata.AppStart.str1.4,"aMS",%progbits,1
 762              		.align	2
 763              	.LC6:
 764 0000 77617665 		.ascii	"waveform_update: %d\000"
 764      666F726D 
 764      5F757064 
 764      6174653A 
 764      20256400 
 765              		.align	2
 766              	.LC7:
 767 0014 77617665 		.ascii	"wave_samp_freq: %d\000"
 767      5F73616D 
 767      705F6672 
 767      65713A20 
 767      256400
 768              		.global	__aeabi_f2uiz
 769              		.section	.text.AppStart,"ax",%progbits
 770              		.align	1
 771              		.global	AppStart
 772              		.syntax unified
 773              		.code	16
 774              		.thumb_func
 776              	AppStart:
 777              	.LFB64:
  81:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "waveform_update: %d", app_state.waveform_update);
 778              		.loc 1 81 1 is_stmt 1 view -0
 779              		.cfi_startproc
 780              		@ args = 0, pretend = 0, frame = 0
 781              		@ frame_needed = 0, uses_anonymous_args = 0
 782 0000 70B5     		push	{r4, r5, r6, lr}
 783              	.LCFI10:
 784              		.cfi_def_cfa_offset 16
 785              		.cfi_offset 4, -16
 786              		.cfi_offset 5, -12
 787              		.cfi_offset 6, -8
 788              		.cfi_offset 14, -4
 789 0002 82B0     		sub	sp, sp, #8
 790              	.LCFI11:
 791              		.cfi_def_cfa_offset 24
  82:Core/Src/app.c ****     EMLOG(LOG_DEBUG, "wave_samp_freq: %d", app_data.wave_samp_freq);
 792              		.loc 1 82 5 view .LVU149
 793 0004 40F20003 		movw	r3, #:lower16:app_state
 794 0008 C0F20003 		movt	r3, #:upper16:app_state
 795 000c 1A78     		ldrb	r2, [r3]
 796 000e 1207     		lsls	r2, r2, #28
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 21


 797 0010 920F     		lsrs	r2, r2, #30
 798 0012 40F20003 		movw	r3, #:lower16:.LC6
 799 0016 C0F20003 		movt	r3, #:upper16:.LC6
 800 001a 40F20004 		movw	r4, #:lower16:__FUNCTION__.1
 801 001e C0F20004 		movt	r4, #:upper16:__FUNCTION__.1
 802 0022 0092     		str	r2, [sp]
 803 0024 5222     		movs	r2, #82
 804 0026 2100     		movs	r1, r4
 805 0028 0020     		movs	r0, #0
 806 002a FFF7FEFF 		bl	EM_LOG
 807              	.LVL67:
  83:Core/Src/app.c **** 
 808              		.loc 1 83 5 view .LVU150
 809 002e 40F20003 		movw	r3, #:lower16:.LC7
 810 0032 C0F20003 		movt	r3, #:upper16:.LC7
 811 0036 40F20002 		movw	r2, #:lower16:app_data
 812 003a C0F20002 		movt	r2, #:upper16:app_data
 813 003e 9268     		ldr	r2, [r2, #8]
 814 0040 0092     		str	r2, [sp]
 815 0042 5322     		movs	r2, #83
 816 0044 2100     		movs	r1, r4
 817 0046 0020     		movs	r0, #0
 818 0048 FFF7FEFF 		bl	EM_LOG
 819              	.LVL68:
  85:Core/Src/app.c ****         delay_1ms(10);
 820              		.loc 1 85 5 view .LVU151
  85:Core/Src/app.c ****         delay_1ms(10);
 821              		.loc 1 85 18 is_stmt 0 view .LVU152
 822 004c 40F20040 		movw	r0, #1024
 823 0050 C4F60000 		movt	r0, 18432
 824 0054 40F20021 		movw	r1, #512
 825 0058 FFF7FEFF 		bl	gpio_input_bit_get
 826              	.LVL69:
  85:Core/Src/app.c ****         delay_1ms(10);
 827              		.loc 1 85 8 discriminator 1 view .LVU153
 828 005c 0028     		cmp	r0, #0
 829 005e 58D0     		beq	.L32
 830              	.L23:
  96:Core/Src/app.c ****         case PWM_STATE_UPDATE:
 831              		.loc 1 96 5 is_stmt 1 view .LVU154
  96:Core/Src/app.c ****         case PWM_STATE_UPDATE:
 832              		.loc 1 96 22 is_stmt 0 view .LVU155
 833 0060 40F20003 		movw	r3, #:lower16:app_state
 834 0064 C0F20003 		movt	r3, #:upper16:app_state
 835 0068 1B78     		ldrb	r3, [r3]
 836 006a 1B09     		lsrs	r3, r3, #4
  96:Core/Src/app.c ****         case PWM_STATE_UPDATE:
 837              		.loc 1 96 5 view .LVU156
 838 006c 022B     		cmp	r3, #2
 839 006e 00D1     		bne	.LCB645
 840 0070 9CE0     		b	.L26	@long jump
 841              	.LCB645:
 842 0072 032B     		cmp	r3, #3
 843 0074 00D1     		bne	.LCB647
 844 0076 80E0     		b	.L27	@long jump
 845              	.LCB647:
 846 0078 012B     		cmp	r3, #1
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 22


 847 007a 36D1     		bne	.L28
  98:Core/Src/app.c ****             timer_channel_output_pulse_value_config(
 848              		.loc 1 98 13 is_stmt 1 view .LVU157
 849 007c 44F20005 		movw	r5, #16384
 850 0080 C4F20105 		movt	r5, 16385
 851 0084 0021     		movs	r1, #0
 852 0086 2800     		movs	r0, r5
 853 0088 FFF7FEFF 		bl	timer_counter_value_config
 854              	.LVL70:
  99:Core/Src/app.c ****                 TIMER14, 
 855              		.loc 1 99 13 view .LVU158
 102:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 856              		.loc 1 102 36 is_stmt 0 view .LVU159
 857 008c 40F20004 		movw	r4, #:lower16:app_data
 858 0090 C0F20004 		movt	r4, #:upper16:app_data
 859 0094 6068     		ldr	r0, [r4, #4]
 102:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 860              		.loc 1 102 46 view .LVU160
 861 0096 FFF7FEFF 		bl	__aeabi_ui2f
 862              	.LVL71:
 863 009a 0021     		movs	r1, #0
 864 009c C4F2C821 		movt	r1, 17096
 865 00a0 FFF7FEFF 		bl	__aeabi_fdiv
 866              	.LVL72:
 102:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 867              		.loc 1 102 55 view .LVU161
 868 00a4 45F20001 		movw	r1, #20480
 869 00a8 C4F64301 		movt	r1, 18499
 870 00ac FFF7FEFF 		bl	__aeabi_fmul
 871              	.LVL73:
 872 00b0 061C     		adds	r6, r0, #0
 102:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 873              		.loc 1 102 78 view .LVU162
 874 00b2 2068     		ldr	r0, [r4]
 102:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 875              		.loc 1 102 68 view .LVU163
 876 00b4 FFF7FEFF 		bl	__aeabi_ui2f
 877              	.LVL74:
 878 00b8 011C     		adds	r1, r0, #0
 879 00ba 301C     		adds	r0, r6, #0
 880 00bc FFF7FEFF 		bl	__aeabi_fdiv
 881              	.LVL75:
  99:Core/Src/app.c ****                 TIMER14, 
 882              		.loc 1 99 13 view .LVU164
 883 00c0 FFF7FEFF 		bl	__aeabi_f2uiz
 884              	.LVL76:
 885 00c4 0200     		movs	r2, r0
 886 00c6 0021     		movs	r1, #0
 887 00c8 2800     		movs	r0, r5
 888 00ca FFF7FEFF 		bl	timer_channel_output_pulse_value_config
 889              	.LVL77:
 103:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 890              		.loc 1 103 13 is_stmt 1 view .LVU165
 103:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 891              		.loc 1 103 33 is_stmt 0 view .LVU166
 892 00ce 40F20003 		movw	r3, #:lower16:app_state
 893 00d2 C0F20003 		movt	r3, #:upper16:app_state
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 23


 894 00d6 1978     		ldrb	r1, [r3]
 895 00d8 0F22     		movs	r2, #15
 896 00da 0A40     		ands	r2, r1
 897 00dc 1A70     		strb	r2, [r3]
 104:Core/Src/app.c ****             break;
 898              		.loc 1 104 13 is_stmt 1 view .LVU167
 104:Core/Src/app.c ****             break;
 899              		.loc 1 104 38 is_stmt 0 view .LVU168
 900 00de D2B2     		uxtb	r2, r2
 901 00e0 0321     		movs	r1, #3
 902 00e2 8A43     		bics	r2, r1
 903 00e4 0121     		movs	r1, #1
 904 00e6 0A43     		orrs	r2, r1
 905 00e8 1A70     		strb	r2, [r3]
 105:Core/Src/app.c ****         case PWM_STATE_OPEN:
 906              		.loc 1 105 13 is_stmt 1 view .LVU169
 907              	.L28:
 124:Core/Src/app.c ****         app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 908              		.loc 1 124 5 view .LVU170
 124:Core/Src/app.c ****         app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 909              		.loc 1 124 35 is_stmt 0 view .LVU171
 910 00ea 40F20003 		movw	r3, #:lower16:app_state
 911 00ee C0F20003 		movt	r3, #:upper16:app_state
 912 00f2 1A78     		ldrb	r2, [r3]
 913 00f4 0C23     		movs	r3, #12
 914 00f6 1340     		ands	r3, r2
 124:Core/Src/app.c ****         app_state.waveform_update = WAVEFORM_UPDATE_NONE;
 915              		.loc 1 124 8 view .LVU172
 916 00f8 042B     		cmp	r3, #4
 917 00fa 00D1     		bne	.LCB703
 918 00fc 79E0     		b	.L33	@long jump
 919              	.LCB703:
 920              	.L29:
 128:Core/Src/app.c ****         app_state.display_update = APP_STATE_DISABLE;
 921              		.loc 1 128 5 is_stmt 1 view .LVU173
 128:Core/Src/app.c ****         app_state.display_update = APP_STATE_DISABLE;
 922              		.loc 1 128 9 is_stmt 0 view .LVU174
 923 00fe 40F20003 		movw	r3, #:lower16:app_state
 924 0102 C0F20003 		movt	r3, #:upper16:app_state
 925 0106 1B78     		ldrb	r3, [r3]
 128:Core/Src/app.c ****         app_state.display_update = APP_STATE_DISABLE;
 926              		.loc 1 128 8 view .LVU175
 927 0108 9B07     		lsls	r3, r3, #30
 928 010a 00D0     		beq	.LCB713
 929 010c 7BE0     		b	.L34	@long jump
 930              	.LCB713:
 931              	.L22:
 132:Core/Src/app.c **** 
 932              		.loc 1 132 1 view .LVU176
 933 010e 02B0     		add	sp, sp, #8
 934              		@ sp needed
 935 0110 70BD     		pop	{r4, r5, r6, pc}
 936              	.L32:
  86:Core/Src/app.c ****         if (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9)) {
 937              		.loc 1 86 9 is_stmt 1 view .LVU177
 938 0112 0A30     		adds	r0, r0, #10
 939 0114 FFF7FEFF 		bl	delay_1ms
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 24


 940              	.LVL78:
  87:Core/Src/app.c ****             while (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9));
 941              		.loc 1 87 9 view .LVU178
  87:Core/Src/app.c ****             while (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9));
 942              		.loc 1 87 22 is_stmt 0 view .LVU179
 943 0118 40F20040 		movw	r0, #1024
 944 011c C4F60000 		movt	r0, 18432
 945 0120 40F20021 		movw	r1, #512
 946 0124 FFF7FEFF 		bl	gpio_input_bit_get
 947              	.LVL79:
  87:Core/Src/app.c ****             while (RESET == gpio_input_bit_get(GPIOB, GPIO_PIN_9));
 948              		.loc 1 87 12 discriminator 1 view .LVU180
 949 0128 0028     		cmp	r0, #0
 950 012a 99D1     		bne	.L23
 951              	.L24:
  88:Core/Src/app.c ****             if (app_state.waveform_update != WAVEFORM_UPDATE_DISABLE) {
 952              		.loc 1 88 26 is_stmt 1 discriminator 1 view .LVU181
  88:Core/Src/app.c ****             if (app_state.waveform_update != WAVEFORM_UPDATE_DISABLE) {
 953              		.loc 1 88 29 is_stmt 0 discriminator 1 view .LVU182
 954 012c 40F20040 		movw	r0, #1024
 955 0130 C4F60000 		movt	r0, 18432
 956 0134 40F20021 		movw	r1, #512
 957 0138 FFF7FEFF 		bl	gpio_input_bit_get
 958              	.LVL80:
  88:Core/Src/app.c ****             if (app_state.waveform_update != WAVEFORM_UPDATE_DISABLE) {
 959              		.loc 1 88 26 discriminator 1 view .LVU183
 960 013c 0028     		cmp	r0, #0
 961 013e F5D0     		beq	.L24
  89:Core/Src/app.c ****                 app_state.waveform_update = WAVEFORM_UPDATE_DISABLE;
 962              		.loc 1 89 13 is_stmt 1 view .LVU184
  89:Core/Src/app.c ****                 app_state.waveform_update = WAVEFORM_UPDATE_DISABLE;
 963              		.loc 1 89 43 is_stmt 0 view .LVU185
 964 0140 40F20003 		movw	r3, #:lower16:app_state
 965 0144 C0F20003 		movt	r3, #:upper16:app_state
 966 0148 1A78     		ldrb	r2, [r3]
 967 014a 0C23     		movs	r3, #12
 968 014c 1340     		ands	r3, r2
  89:Core/Src/app.c ****                 app_state.waveform_update = WAVEFORM_UPDATE_DISABLE;
 969              		.loc 1 89 16 view .LVU186
 970 014e 082B     		cmp	r3, #8
 971 0150 0AD0     		beq	.L25
  90:Core/Src/app.c ****             } else {
 972              		.loc 1 90 17 is_stmt 1 view .LVU187
  90:Core/Src/app.c ****             } else {
 973              		.loc 1 90 43 is_stmt 0 view .LVU188
 974 0152 40F20002 		movw	r2, #:lower16:app_state
 975 0156 C0F20002 		movt	r2, #:upper16:app_state
 976 015a 1378     		ldrb	r3, [r2]
 977 015c 0C21     		movs	r1, #12
 978 015e 8B43     		bics	r3, r1
 979 0160 0821     		movs	r1, #8
 980 0162 0B43     		orrs	r3, r1
 981 0164 1370     		strb	r3, [r2]
 982 0166 7BE7     		b	.L23
 983              	.L25:
  92:Core/Src/app.c ****             }
 984              		.loc 1 92 17 is_stmt 1 view .LVU189
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 25


  92:Core/Src/app.c ****             }
 985              		.loc 1 92 43 is_stmt 0 view .LVU190
 986 0168 40F20003 		movw	r3, #:lower16:app_state
 987 016c C0F20003 		movt	r3, #:upper16:app_state
 988 0170 1A78     		ldrb	r2, [r3]
 989 0172 0C21     		movs	r1, #12
 990 0174 8A43     		bics	r2, r1
 991 0176 1A70     		strb	r2, [r3]
 992 0178 72E7     		b	.L23
 993              	.L27:
 107:Core/Src/app.c ****             KEY02_01_INTERRUPT_ENABLE();
 994              		.loc 1 107 13 is_stmt 1 view .LVU191
 995 017a 40F20003 		movw	r3, #:lower16:app_data
 996 017e C0F20003 		movt	r3, #:upper16:app_data
 997 0182 5968     		ldr	r1, [r3, #4]
 998 0184 1868     		ldr	r0, [r3]
 999 0186 FFF7FEFF 		bl	Timer14Config
 1000              	.LVL81:
 108:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_NONE;
 1001              		.loc 1 108 13 view .LVU192
 1002 018a FFF7FEFF 		bl	GPIO13_14InterruptEnable
 1003              	.LVL82:
 109:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 1004              		.loc 1 109 13 view .LVU193
 109:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 1005              		.loc 1 109 33 is_stmt 0 view .LVU194
 1006 018e 40F20003 		movw	r3, #:lower16:app_state
 1007 0192 C0F20003 		movt	r3, #:upper16:app_state
 1008 0196 1978     		ldrb	r1, [r3]
 1009 0198 0F22     		movs	r2, #15
 1010 019a 0A40     		ands	r2, r1
 1011 019c 1A70     		strb	r2, [r3]
 110:Core/Src/app.c ****             break;
 1012              		.loc 1 110 13 is_stmt 1 view .LVU195
 110:Core/Src/app.c ****             break;
 1013              		.loc 1 110 38 is_stmt 0 view .LVU196
 1014 019e D2B2     		uxtb	r2, r2
 1015 01a0 0321     		movs	r1, #3
 1016 01a2 8A43     		bics	r2, r1
 1017 01a4 0121     		movs	r1, #1
 1018 01a6 0A43     		orrs	r2, r1
 1019 01a8 1A70     		strb	r2, [r3]
 111:Core/Src/app.c ****         case PWM_STATE_CLOSE:
 1020              		.loc 1 111 13 is_stmt 1 view .LVU197
 1021 01aa 9EE7     		b	.L28
 1022              	.L26:
 113:Core/Src/app.c ****             exti_interrupt_disable(EXTI_14);
 1023              		.loc 1 113 13 view .LVU198
 1024 01ac 42F20000 		movw	r0, #8192
 1025 01b0 FFF7FEFF 		bl	exti_interrupt_disable
 1026              	.LVL83:
 114:Core/Src/app.c ****             timer_disable(TIMER14);
 1027              		.loc 1 114 13 view .LVU199
 1028 01b4 44F20000 		movw	r0, #16384
 1029 01b8 FFF7FEFF 		bl	exti_interrupt_disable
 1030              	.LVL84:
 115:Core/Src/app.c ****             rcu_periph_clock_disable(RCU_TIMER14);
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 26


 1031              		.loc 1 115 13 view .LVU200
 1032 01bc 44F20000 		movw	r0, #16384
 1033 01c0 C4F20100 		movt	r0, 16385
 1034 01c4 FFF7FEFF 		bl	timer_disable
 1035              	.LVL85:
 116:Core/Src/app.c ****             app_state.pwm_state = PWM_STATE_DISABLE;
 1036              		.loc 1 116 13 view .LVU201
 1037 01c8 40F21060 		movw	r0, #1552
 1038 01cc FFF7FEFF 		bl	rcu_periph_clock_disable
 1039              	.LVL86:
 117:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 1040              		.loc 1 117 13 view .LVU202
 117:Core/Src/app.c ****             app_state.display_update = APP_STATE_ENABLE;
 1041              		.loc 1 117 33 is_stmt 0 view .LVU203
 1042 01d0 40F20003 		movw	r3, #:lower16:app_state
 1043 01d4 C0F20003 		movt	r3, #:upper16:app_state
 1044 01d8 1978     		ldrb	r1, [r3]
 1045 01da 0F22     		movs	r2, #15
 1046 01dc 0A40     		ands	r2, r1
 1047 01de 4021     		movs	r1, #64
 1048 01e0 0A43     		orrs	r2, r1
 1049 01e2 1A70     		strb	r2, [r3]
 118:Core/Src/app.c ****             break;
 1050              		.loc 1 118 13 is_stmt 1 view .LVU204
 118:Core/Src/app.c ****             break;
 1051              		.loc 1 118 38 is_stmt 0 view .LVU205
 1052 01e4 D2B2     		uxtb	r2, r2
 1053 01e6 0321     		movs	r1, #3
 1054 01e8 8A43     		bics	r2, r1
 1055 01ea 0121     		movs	r1, #1
 1056 01ec 0A43     		orrs	r2, r1
 1057 01ee 1A70     		strb	r2, [r3]
 119:Core/Src/app.c ****         default:
 1058              		.loc 1 119 13 is_stmt 1 view .LVU206
 1059 01f0 7BE7     		b	.L28
 1060              	.L33:
 125:Core/Src/app.c ****         WaveformDisplay();
 1061              		.loc 1 125 9 view .LVU207
 125:Core/Src/app.c ****         WaveformDisplay();
 1062              		.loc 1 125 35 is_stmt 0 view .LVU208
 1063 01f2 40F20003 		movw	r3, #:lower16:app_state
 1064 01f6 C0F20003 		movt	r3, #:upper16:app_state
 1065 01fa 0C21     		movs	r1, #12
 1066 01fc 8A43     		bics	r2, r1
 1067 01fe 1A70     		strb	r2, [r3]
 126:Core/Src/app.c ****     }
 1068              		.loc 1 126 9 is_stmt 1 view .LVU209
 1069 0200 FFF7FEFF 		bl	WaveformDisplay
 1070              	.LVL87:
 1071 0204 7BE7     		b	.L29
 1072              	.L34:
 129:Core/Src/app.c ****         AppStateDisplay();
 1073              		.loc 1 129 9 view .LVU210
 129:Core/Src/app.c ****         AppStateDisplay();
 1074              		.loc 1 129 34 is_stmt 0 view .LVU211
 1075 0206 40F20003 		movw	r3, #:lower16:app_state
 1076 020a C0F20003 		movt	r3, #:upper16:app_state
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 27


 1077 020e 1A78     		ldrb	r2, [r3]
 1078 0210 0321     		movs	r1, #3
 1079 0212 8A43     		bics	r2, r1
 1080 0214 1A70     		strb	r2, [r3]
 130:Core/Src/app.c ****     }
 1081              		.loc 1 130 9 is_stmt 1 view .LVU212
 1082 0216 FFF7FEFF 		bl	AppStateDisplay
 1083              	.LVL88:
 132:Core/Src/app.c **** 
 1084              		.loc 1 132 1 is_stmt 0 view .LVU213
 1085 021a 78E7     		b	.L22
 1086              		.cfi_endproc
 1087              	.LFE64:
 1089              		.section	.rodata.__FUNCTION__.0,"a"
 1090              		.align	2
 1093              	__FUNCTION__.0:
 1094 0000 57617665 		.ascii	"WaveformDisplay\000"
 1094      666F726D 
 1094      44697370 
 1094      6C617900 
 1095              		.section	.rodata.__FUNCTION__.1,"a"
 1096              		.align	2
 1099              	__FUNCTION__.1:
 1100 0000 41707053 		.ascii	"AppStart\000"
 1100      74617274 
 1100      00
 1101              		.section	.rodata.__FUNCTION__.2,"a"
 1102              		.align	2
 1105              	__FUNCTION__.2:
 1106 0000 41707049 		.ascii	"AppInit\000"
 1106      6E697400 
 1107              		.global	app_state
 1108              		.section	.bss.app_state,"aw",%nobits
 1109              		.align	2
 1112              	app_state:
 1113 0000 00       		.space	1
 1114              		.global	app_data
 1115              		.section	.bss.app_data,"aw",%nobits
 1116              		.align	2
 1119              	app_data:
 1120 0000 00000000 		.space	340
 1120      00000000 
 1120      00000000 
 1120      00000000 
 1120      00000000 
 1121              		.global	UI_MSG
 1122              		.section	.rodata.UI_MSG,"a"
 1123              		.align	2
 1126              	UI_MSG:
 1127 0000 5468616E 		.ascii	"Thanks for using\000"
 1127      6B732066 
 1127      6F722075 
 1127      73696E67 
 1127      00
 1128 0011 00000000 		.space	15
 1128      00000000 
 1128      00000000 
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 28


 1128      000000
 1129 0020 5670703A 		.ascii	"Vpp: 0.00V  F: 0.000kHz\000"
 1129      20302E30 
 1129      30562020 
 1129      463A2030 
 1129      2E303030 
 1130 0038 00000000 		.space	8
 1130      00000000 
 1131 0040 50574D3A 		.ascii	"PWM:OFF   0.00kHz    0%\000"
 1131      4F464620 
 1131      2020302E 
 1131      30306B48 
 1131      7A202020 
 1132 0058 00000000 		.space	8
 1132      00000000 
 1133              		.text
 1134              	.Letext0:
 1135              		.file 2 "D:/AppData/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/include
 1136              		.file 3 "D:/AppData/arm-gnu-toolchain-13.3.rel1-mingw-w64-i686-arm-none-eabi/arm-none-eabi/include
 1137              		.file 4 "Core/Inc/app.h"
 1138              		.file 5 "Core/Inc/log.h"
 1139              		.file 6 "Drivers/CMSIS/GD/GD32E23x/Include/gd32e23x.h"
 1140              		.file 7 "Drivers/GD32E23x/Include/gd32e23x_exti.h"
 1141              		.file 8 "Drivers/GD32E23x/Include/gd32e23x_rcu.h"
 1142              		.file 9 "Drivers/GD32E23x/Include/gd32e23x_usart.h"
 1143              		.file 10 "Drivers/GD32E23x/Include/gd32e23x_adc.h"
 1144              		.file 11 "Drivers/UserDrivers/lcd.h"
 1145              		.file 12 "Drivers/GD32E23x/Include/gd32e23x_timer.h"
 1146              		.file 13 "Core/Inc/peripheral.h"
 1147              		.file 14 "Core/Inc/systick.h"
 1148              		.file 15 "Drivers/GD32E23x/Include/gd32e23x_gpio.h"
 1149              		.file 16 "Drivers/GD32E23x/Include/gd32e23x_dbg.h"
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 app.c
D:\noval\Temp\ccsUdEGl.s:19     .text.AppInterface:00000000 $t
D:\noval\Temp\ccsUdEGl.s:25     .text.AppInterface:00000000 AppInterface
D:\noval\Temp\ccsUdEGl.s:1126   .rodata.UI_MSG:00000000 UI_MSG
D:\noval\Temp\ccsUdEGl.s:132    .rodata.AppStateDisplay.str1.4:00000000 $d
D:\noval\Temp\ccsUdEGl.s:133    .rodata.AppStateDisplay.str1.4:00000000 .LC2
D:\noval\Temp\ccsUdEGl.s:136    .rodata.AppStateDisplay.str1.4:00000004 .LC3
D:\noval\Temp\ccsUdEGl.s:140    .text.AppStateDisplay:00000000 $t
D:\noval\Temp\ccsUdEGl.s:146    .text.AppStateDisplay:00000000 AppStateDisplay
D:\noval\Temp\ccsUdEGl.s:1119   .bss.app_data:00000000 app_data
D:\noval\Temp\ccsUdEGl.s:1112   .bss.app_state:00000000 app_state
D:\noval\Temp\ccsUdEGl.s:290    .text.__io_putchar:00000000 $t
D:\noval\Temp\ccsUdEGl.s:296    .text.__io_putchar:00000000 __io_putchar
D:\noval\Temp\ccsUdEGl.s:342    .text.ADCGetValue:00000000 $t
D:\noval\Temp\ccsUdEGl.s:348    .text.ADCGetValue:00000000 ADCGetValue
D:\noval\Temp\ccsUdEGl.s:397    .rodata.WaveformDisplay.str1.4:00000000 $d
D:\noval\Temp\ccsUdEGl.s:398    .rodata.WaveformDisplay.str1.4:00000000 .LC4
D:\noval\Temp\ccsUdEGl.s:408    .text.WaveformDisplay:00000000 $t
D:\noval\Temp\ccsUdEGl.s:414    .text.WaveformDisplay:00000000 WaveformDisplay
D:\noval\Temp\ccsUdEGl.s:1093   .rodata.__FUNCTION__.0:00000000 __FUNCTION__.0
D:\noval\Temp\ccsUdEGl.s:642    .rodata.AppInit.str1.4:00000000 $d
D:\noval\Temp\ccsUdEGl.s:643    .rodata.AppInit.str1.4:00000000 .LC5
D:\noval\Temp\ccsUdEGl.s:646    .text.AppInit:00000000 $t
D:\noval\Temp\ccsUdEGl.s:652    .text.AppInit:00000000 AppInit
D:\noval\Temp\ccsUdEGl.s:1105   .rodata.__FUNCTION__.2:00000000 __FUNCTION__.2
D:\noval\Temp\ccsUdEGl.s:762    .rodata.AppStart.str1.4:00000000 $d
D:\noval\Temp\ccsUdEGl.s:763    .rodata.AppStart.str1.4:00000000 .LC6
D:\noval\Temp\ccsUdEGl.s:766    .rodata.AppStart.str1.4:00000014 .LC7
D:\noval\Temp\ccsUdEGl.s:770    .text.AppStart:00000000 $t
D:\noval\Temp\ccsUdEGl.s:776    .text.AppStart:00000000 AppStart
D:\noval\Temp\ccsUdEGl.s:1099   .rodata.__FUNCTION__.1:00000000 __FUNCTION__.1
D:\noval\Temp\ccsUdEGl.s:1090   .rodata.__FUNCTION__.0:00000000 $d
D:\noval\Temp\ccsUdEGl.s:1096   .rodata.__FUNCTION__.1:00000000 $d
D:\noval\Temp\ccsUdEGl.s:1102   .rodata.__FUNCTION__.2:00000000 $d
D:\noval\Temp\ccsUdEGl.s:1109   .bss.app_state:00000000 $d
D:\noval\Temp\ccsUdEGl.s:1116   .bss.app_data:00000000 $d
D:\noval\Temp\ccsUdEGl.s:1123   .rodata.UI_MSG:00000000 $d

UNDEFINED SYMBOLS
LCD_Fill
LCD_Show_String
LCD_Draw_Line
__aeabi_i2f
__aeabi_fdiv
__aeabi_ui2f
LCD_ShowFloatNum1
LCD_ShowIntNum
usart_data_transmit
usart_flag_get
adc_regular_channel_config
adc_software_trigger_enable
adc_flag_get
adc_regular_data_read
__aeabi_fmul
__aeabi_fadd
__aeabi_f2iz
ARM GAS  D:\noval\Temp\ccsUdEGl.s 			page 30


__aeabi_fcmplt
__aeabi_f2d
__aeabi_dmul
__aeabi_d2iz
EM_LOG
LCD_Draw_Curve
LCD_Draw_Point
RCUConfig
GPIOConfig
USARTConfig
ADCConfig
SPIConfig
LCD_Init
TIMConfig
__aeabi_f2uiz
gpio_input_bit_get
timer_counter_value_config
timer_channel_output_pulse_value_config
delay_1ms
Timer14Config
GPIO13_14InterruptEnable
exti_interrupt_disable
timer_disable
rcu_periph_clock_disable
